<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SignSafe | Signature Verification</title>

    <!-- Modern clean bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="stylesheet" href="{{ url_for('static', filename='css/template.css') }}">
</head>

<body class="bg-light">

<div class="main-wrapper">

    <header class="text-center mb-4">
        <img src="{{ url_for('static', filename='images/KIIT-logo.jpg') }}" class="header-logo">
        <h1 class="brand-title">SignSafe</h1>
        <p class="brand-subtitle">Automated Signature Fraud Detection</p>
    </header>

    <div class="card ui-card shadow-sm">

        <!-- UPLOAD FORM -->
        <form method="post" action="/predict" enctype="multipart/form-data" class="mb-4">
            <label class="form-label fw-semibold">Upload Cheque Image</label>

            <div class="d-flex gap-2">
                <input type="file" name="file" class="form-control" required>
                <button class="btn btn-dark px-4">Upload</button>
            </div>

            <!-- Flash Messages -->
            {% with messages = get_flashed_messages() %}
            {% if messages %}
            <div class="alert alert-success mt-3 p-2">
                {{ messages[0] }}
            </div>
            {% endif %}
            {% endwith %}
        </form>

        <!-- PROCESS BUTTON -->
        <form method="post" action="/process_ocr" class="text-center mb-3">
            {% if result %}
            <div class="result-badge {{ 'genuine' if result == 'Genuine Signature' else 'forged' }}">
                {{ result }}
            </div>
            {% endif %}

            <button class="btn btn-primary px-4 py-2 mt-2">Start Processing</button>
        </form>

        <!-- RESET -->
        <div class="text-center">
            <a href="/reload" class="btn btn-outline-secondary">Reset / Upload Another Image</a>
        </div>

    </div>

</div>

</body>
</html>
